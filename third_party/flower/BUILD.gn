import("//third_party/grpc/grpc_library.gni")

static_library("flower") {
  include_dirs = [ "src/cc/flwr/include" ]
  sources = [
    "src/brave/flwr/serde.h",
    "src/brave/flwr/serde.cc",
  ]
  deps = [
    "//brave/third_party/flower/src/proto/flwr/proto:transport_grpc_proto",
    "//third_party/grpc:grpc++",
    "//components/grpc_support",
    "//net",
    "//third_party/protobuf:protobuf_lite",
  ]

  configs -= [ "//build/config/compiler:chromium_code" ]
  configs += [
    "//build/config/compiler:no_chromium_code",
    "//build/config/compiler:exceptions",
  ]
}
